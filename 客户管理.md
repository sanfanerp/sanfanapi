# 客户管理 接口文档 v2019.03.15
wingmfc 1.0.0_4
2019.03.15 10:00:00
## 描述
```
  1 客户管理接口
```
## 规范说明
```
接口地址
http://192.168.0.146:8089
swagger
http://192.168.0.146:8089/swagger-ui.html
```
## 目录
```
1 客户管理
1.1 新增客户信息(更新)
1.2 删除客户信息
1.3 查询客户信息
1.4 查询部门客户信息
1.5 查询个人私有客户信息
1.6 修改客户信息
1.7 通过id查询客户
1.8 通过员工id获取其私有客户
```
## 1 客户管理
### 1.1 新增客户信息
#### 请求
POST /client/add
```JSON
{
  "address": "客户地址(必填)",
  "areaId": "地区id(必填)",
  "belongToWhoID": "所有者id(员工或部门,必填)",
  "clientBelong": "客户归属:我的:MINE|部门:DEPARTMENT(必选)",
  "clientGroup": "客户分组:客户:CLIENT|商家:MERCHANT(必选)",
  "clientLinkmanDTOList": [
    {
      "birth": "生日",
      "department": "部门",
      "duty": "职务",
      "email": "email",
      "fax": "传真",
      "gender": "性别:男:MALE|女:FEMALE|未知:UNKNOWN(必选)",
      "major": "true|false(是否主要联系人)",
      "name": "名字(必填)",
      "note": "备注",
      "qq": "QQ",
      "tel": "电话(必填)",
      "weChat": "微信"
    }
  ],
  "detailedAddress": "详细地址",
  "intentionId": "意向id(必填)",
  "levelId": "等级id(必填)",
  "name": "客户名称(必填)",
  "note": "备注",
  "operatorId": "经手人id(必填)",
  "photos": [
    "图片url"
  ],
  "typeId": "客户类型id(必填)"
}
```
#### 响应
```
200 OK
201 Created
401 Unauthorized
403 Forbidden
404 Not Found
```
### 1.2 删除客户信息
#### 请求
DELETE /client/{id}
#### 响应
```
200 OK
204 Not Content
401 Unauthorized
403 Forbidden
```
### 1.3 查询客户信息
#### 请求
POST /client
```JSON
{
  "areaId": "客户区域id",
  "belongToWhoID": "归属者id",
  "clientGroup": "客户分组,客户:CLIENT;商家:MERCHANT,(必须的属性)",
  "intentionId": "客户意向id",
  "levelId": "客户等级id",
  "name": "客户名称",
  "typeId": "客户类型id"
}
```
#### 响应
```JSON
[
  {
      "id": "40288012695caa9901695cba71960003",
      "createTime": "2019-03-08 17:55:17",
      "clientGroup": "CLIENT",
      "name": "名称",
      "clientBelong": "DEPARTMENT",
      "belongToWhoID": "402880086950ab4c016950b1a4380001",
      "typeId": "类型id",
      "levelId": "等级id",
      "areaId": "区域id",
      "intentionId": "意图id",
      "address": "地址",
      "detailedAddress": "详细地址",
      "photos": [
        "图片URL",
        "图片URL"
      ],
      "note": "备注",
      "operatorId": "402880086950ab4c016950b1a4460002",
      "clientLinkmanDTOList": [
        {
          "id": "40288012695caa9901695cba71cf0004",
          "createTime": 1552038917000,
          "name": "名字",
          "tel": "电话",
          "major": true,
          "gender": "MALE",
          "department": "部门",
          "duty": "职务",
          "email": "邮箱",
          "weChat": "微信",
          "qq": "QQ",
          "fax": "传真",
          "birth": 1552031485000,
          "note": "备注"
        }
      ]
    }
]
```
#### 响应状态码
```
201 Created
401 Unauthorized
403 Forbidden
404 Not Found
```
### 1.4 查询部门客户信息
#### 请求
POST /client/getDepartmentClient
```
{
  "clientGroup": "客户分组,客户:CLIENT;商家:MERCHANT,(必须的属性)"
}
```
#### 响应
```JSON
[
  {
    "id": "40288012695caa9901695cba71960003",
    "createTime": "2019-03-08 17:55:17",
    "clientGroup": "CLIENT",
    "name": "名称",
    "clientBelong": "DEPARTMENT",
    "belongToWhoID": "402880086950ab4c016950b1a4380001",
    "typeId": "类型id",
    "levelId": "等级id",
    "areaId": "区域id",
    "intentionId": "意图id",
    "address": "地址",
    "detailedAddress": "详细地址",
    "photos": [
      "图片",
      "图片"
    ],
    "note": "备注",
    "operatorId": "402880086950ab4c016950b1a4460002",
    "clientLinkmanDTOList": [
      {
        "id": "40288012695caa9901695cba71cf0004",
        "createTime": 1552038917000,
        "name": "名字",
        "tel": "电话",
        "major": true,
        "gender": "MALE",
        "department": "部门",
        "duty": "职务",
        "email": "邮箱",
        "weChat": "微信",
        "qq": "QQ",
        "fax": "传真",
        "birth": 1552031485000,
        "note": "备注"
      },
      {
        "id": "40288012695caa9901695cba71f80005",
        "createTime": 1552038917000,
        "name": "名字",
        "tel": "电话",
        "major": true,
        "gender": "MALE",
        "department": "部门",
        "duty": "职务",
        "email": "邮箱",
        "weChat": "微信",
        "qq": "QQ",
        "fax": "传真",
        "birth": 1552031485000,
        "note": "备注"
      }
    ]
  }
]
```
#### 响应状态码
```
401 Unauthorized
403 Forbidden
404 Not Found
```
### 1.5 查询个人私有客户信息
#### 请求
POST /client/getMyClient
```JSON
{
  "clientGroup": "客户分组,客户:CLIENT;商家:MERCHANT,(必须的属性)"
}
```
#### 响应
```JSON
[
  {
    "id": "40288012696a519f01696bb12f2a0001",
    "createTime": "2019-03-11 15:39:28",
    "clientGroup": "CLIENT",
    "name": "string222",
    "clientBelong": "MINE",
    "belongToWhoID": "402880086950ab4c016950b1a4460002",
    "typeId": "string",
    "levelId": "string",
    "areaId": "string",
    "intentionId": "string",
    "address": "string",
    "detailedAddress": "string",
    "photos": [
      "string"
    ],
    "note": "string",
    "operatorId": "402880086950ab4c016950b1a4460002",
    "clientLinkmanDTOList": [
      {
        "id": "40288012696a519f01696bb12f870002",
        "createTime": 1552289968000,
        "name": "string",
        "tel": "string",
        "major": true,
        "gender": "MALE",
        "department": "string",
        "duty": "string",
        "email": "string",
        "weChat": "string",
        "qq": "string",
        "fax": "string",
        "birth": 1552287744000,
        "note": "string"
      }
    ]
  }
]
```
#### 响应状态码
```
401 Unauthorized
403 Forbidden
404 Not Found
```
### 1.6 修改客户信息
#### 请求
PUT /client/update
```JSON
{
  "id": "40288012696a519f01696bb12f870002",
  "address": "客户地址(必填)",
  "areaId": "地区id(必填)",
  "belongToWhoID": "所有者id(员工或部门,必填)",
  "clientBelong": "客户归属:我的:MINE|部门:DEPARTMENT(必选)",
  "clientGroup": "客户分组:客户:CLIENT|商家:MERCHANT(必选)",
  "clientLinkmanDTOList": [
    {
      "id": "40288012696a519f01696bb12f870002",
      "birth": "生日",
      "department": "部门",
      "duty": "职务",
      "email": "email",
      "fax": "传真",
      "gender": "性别:男:MALE|女:FEMALE|未知:UNKNOWN(必选)",
      "major": "true|false(是否主要联系人)",
      "name": "名字(必填)",
      "note": "备注",
      "qq": "QQ",
      "tel": "电话(必填)",
      "weChat": "微信"
    }
  ],
  "detailedAddress": "详细地址",
  "intentionId": "意向id(必填)",
  "levelId": "等级id(必填)",
  "name": "客户名称(必填)",
  "note": "备注",
  "operatorId": "经手人id(必填)",
  "photos": [
    "图片url"
  ],
  "typeId": "客户类型id(必填)"
}
```
#### 响应状态码
```
200 OK
201 Created
401 Unauthorized
403 Forbidden
404 Not Found
```
### 1.7 通过id查询客户
#### 请求
GET /client/{id}
#### 响应
```JSON
{
  "address": "string",
  "areaId": "string",
  "areaName": "string",
  "belongToWhoID": "string",
  "clientBelong": "个人",
  "clientGroup": "客户",
  "clientLinkmanDTOList": [
    {
      "birth": "2019-03-15T00:54:26.289Z",
      "createTime": "2019-03-15T00:54:26.289Z",
      "department": "string",
      "duty": "string",
      "email": "string",
      "fax": "string",
      "gender": "男",
      "id": "string",
      "major": true,
      "name": "string",
      "note": "string",
      "qq": "string",
      "tel": "string",
      "weChat": "string"
    }
  ],
  "createTime": "2019-03-15T00:54:26.289Z",
  "detailedAddress": "string",
  "id": "string",
  "intentionId": "string",
  "intentionName": "string",
  "levelId": "string",
  "levelName": "string",
  "name": "string",
  "note": "string",
  "operatorId": "string",
  "operatorName": "string",
  "photos": [
    "string"
  ],
  "typeId": "string",
  "typeName": "string"
}
```
#### 响应状态码
```
200 OK
204 No Content
401 Unauthorized
403 Forbidden
```
### 1.8 通过员工id获取其私有客户
#### 请求
POST /client/directly
```JSON
{
    "id": "40288012696a519f01696bb12f2a0001(员工id)",
    "clientGroup": "客户或商家;客户:CLIENT;商家:MERCHANT"
  }
```
#### 响应
```JSON
[
  {
    "id": "40288012696a519f01696bb12f2a0001",
    "createTime": "2019-03-11 15:39:28",
    "clientGroup": "CLIENT",
    "name": "string222",
    "clientBelong": "MINE",
    "belongToWhoID": "402880086950ab4c016950b1a4460002",
    "typeId": "string",
    "typeName": null,
    "levelId": "string",
    "levelName": null,
    "areaId": "string",
    "areaName": null,
    "intentionId": "string",
    "intentionName": null,
    "address": "string",
    "detailedAddress": "string",
    "photos": [
      "string"
    ],
    "note": "string",
    "operatorId": "402880086950ab4c016950b1a4460002",
    "clientLinkmanDTOList": [
      {
        "id": "40288012696a519f01696bb12f870002",
        "createTime": 1552289968000,
        "name": "string",
        "tel": "string",
        "major": true,
        "gender": "MALE",
        "department": "string",
        "duty": "string",
        "email": "string",
        "weChat": "string",
        "qq": "string",
        "fax": "string",
        "birth": 1552287744000,
        "note": "string"
      }
    ]
  }
]
```
#### 响应状态
```
201 Created
401 Unauthorized
403 Forbidden
404 Not Found
```