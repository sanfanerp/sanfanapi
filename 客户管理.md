# 客户管理 接口文档 v2019.03.15
wingmfc 1.0.0_4
2019.03.15 10:00:00
## 描述
```
  1 客户管理接口
```
## 规范说明
```
接口地址
http://192.168.0.146:8089
swagger
http://192.168.0.146:8089/swagger-ui.html
```
## 目录
```
1 客户管理
1.1 新增客户信息(更新)
1.2 删除客户信息
1.3 查询客户信息
1.4 查询部门客户信息
1.5 查询个人私有客户信息
1.6 修改客户信息
1.7 通过id查询客户
1.8 通过员工id获取其私有客户
```
## 1 客户管理
### 1.1 新增客户信息
#### 请求
POST /client/add
```JSON
{
  "address": "客户地址(必填)",
  "areaId": "地区id(必填)",
  "belongToWhoID": "所有者id(员工或部门,必填)",
  "clientBelong": "客户归属:我的:MINE|部门:DEPARTMENT(必选)",
  "clientGroup": "客户分组:客户:CLIENT|商家:MERCHANT(必选)",
  "clientLinkmanDTOList": [
    {
      "birth": "生日",
      "department": "部门",
      "duty": "职务",
      "email": "email",
      "fax": "传真",
      "gender": "性别:男:MALE|女:FEMALE|未知:UNKNOWN(必选)",
      "major": "true|false(是否主要联系人)",
      "name": "名字(必填)",
      "note": "备注",
      "qq": "QQ",
      "tel": "电话(必填)",
      "weChat": "微信"
    }
  ],
  "detailedAddress": "详细地址",
  "intentionId": "意向id(必填)",
  "levelId": "等级id(必填)",
  "name": "客户名称(必填)",
  "note": "备注",
  "operatorId": "经手人id(必填)",
  "photos": [
    "图片url"
  ],
  "typeId": "客户类型id(必填)"
}
```
#### 响应
```
200 OK
201 Created
401 Unauthorized
403 Forbidden
404 Not Found
```
### 1.2 删除客户信息
#### 请求
DELETE /client/{id}
#### 响应
```
200 OK
204 Not Content
401 Unauthorized
403 Forbidden
```
### 1.3 查询客户信息
#### 请求
POST /client
```JSON
{
  "areaId": "客户区域id",
  "belongToWhoID": "归属者id",
  "clientGroup": "客户分组,客户:CLIENT;商家:MERCHANT,(必须的属性)",
  "intentionId": "客户意向id",
  "levelId": "客户等级id",
  "name": "客户名称",
  "typeId": "客户类型id"
}
```
#### 响应
```JSON
[
  {
    "id": "4028e3816979a5d701697b929545000e(id)",
    "createTime": "2019-03-14 17:39:58(创建时间)",
    "clientGroup": "CLIENT(客户分组:客户:CLIENT;商家:MERCHANT)",
    "name": "mfc(客户名称)",
    "clientBelong": "DEPARTMENT(客户所属:个人:MINE;部门:DEPARTMENT)",
    "belongToWhoID": "402880086950ab4c016950b1a4380001(所有者id)",
    "typeId": "402880086950ab4c016950b1a4380001(类型id)",
    "typeName": "类型名称",
    "levelId": "等级id",
    "levelName": "等级名称",
    "areaId": "区域id",
    "areaName": "区域名称",
    "intentionId": "意图id",
    "intentionName": "意图名称",
    "address": "地址",
    "detailedAddress": "详细地址",
    "photos": [
      "图片url"
    ],
    "note": "备注",
    "operatorId": "402880086950ab4c016950b1a4460002(经手人id)",
    "operatorName": "经手人名称",
    "clientLinkmanDTOList": [
      {
        "id": "4028e3816979a5d701697b929545000e(联系人id)",
        "createTime": "创建时间",
        "name": "mfc(联系人名称)",
        "tel": "联系人电话",
        "major": "是否为主要联系人",
        "gender": "联系人性别",
        "department": "联系人部门",
        "duty": "联系人职务",
        "email": "联系人email",
        "weChat": "微信",
        "qq": "qq",
        "fax": "传真",
        "birth": "联系人生日",
        "note": "备注"
      }
    ]
  }
]
```
#### 响应状态码
```
201 Created
401 Unauthorized
403 Forbidden
404 Not Found
```
### 1.4 查询部门客户信息
#### 请求
POST /client/getDepartmentClient
```
{
  "clientGroup": "客户分组,客户:CLIENT;商家:MERCHANT,(必须的属性)"
}
```
#### 响应
```JSON
[
  {
    "id": "4028e3816979a5d701697b929545000e(id)",
    "createTime": "2019-03-14 17:39:58(创建时间)",
    "clientGroup": "CLIENT(客户分组:客户:CLIENT;商家:MERCHANT)",
    "name": "mfc(客户名称)",
    "clientBelong": "DEPARTMENT(客户所属:个人:MINE;部门:DEPARTMENT)",
    "belongToWhoID": "402880086950ab4c016950b1a4380001(所有者id)",
    "typeId": "402880086950ab4c016950b1a4380001(类型id)",
    "typeName": "类型名称",
    "levelId": "等级id",
    "levelName": "等级名称",
    "areaId": "区域id",
    "areaName": "区域名称",
    "intentionId": "意图id",
    "intentionName": "意图名称",
    "address": "地址",
    "detailedAddress": "详细地址",
    "photos": [
      "图片url"
    ],
    "note": "备注",
    "operatorId": "402880086950ab4c016950b1a4460002(经手人id)",
    "operatorName": "经手人名称",
    "clientLinkmanDTOList": [
      {
        "id": "4028e3816979a5d701697b929545000e(联系人id)",
        "createTime": "创建时间",
        "name": "mfc(联系人名称)",
        "tel": "联系人电话",
        "major": "是否为主要联系人",
        "gender": "联系人性别",
        "department": "联系人部门",
        "duty": "联系人职务",
        "email": "联系人email",
        "weChat": "微信",
        "qq": "qq",
        "fax": "传真",
        "birth": "联系人生日",
        "note": "备注"
      }
    ]
  }
]
```
#### 响应状态码
```
401 Unauthorized
403 Forbidden
404 Not Found
```
### 1.5 查询个人私有客户信息
#### 请求
POST /client/getMyClient
```JSON
{
  "clientGroup": "客户分组,客户:CLIENT;商家:MERCHANT,(必须的属性)"
}
```
#### 响应
```JSON
[
  {
    "id": "4028e3816979a5d701697b929545000e(id)",
    "createTime": "2019-03-14 17:39:58(创建时间)",
    "clientGroup": "CLIENT(客户分组:客户:CLIENT;商家:MERCHANT)",
    "name": "mfc(客户名称)",
    "clientBelong": "DEPARTMENT(客户所属:个人:MINE;部门:DEPARTMENT)",
    "belongToWhoID": "402880086950ab4c016950b1a4380001(所有者id)",
    "typeId": "402880086950ab4c016950b1a4380001(类型id)",
    "typeName": "类型名称",
    "levelId": "等级id",
    "levelName": "等级名称",
    "areaId": "区域id",
    "areaName": "区域名称",
    "intentionId": "意图id",
    "intentionName": "意图名称",
    "address": "地址",
    "detailedAddress": "详细地址",
    "photos": [
      "图片url"
    ],
    "note": "备注",
    "operatorId": "402880086950ab4c016950b1a4460002(经手人id)",
    "operatorName": "经手人名称",
    "clientLinkmanDTOList": [
      {
        "id": "4028e3816979a5d701697b929545000e(联系人id)",
        "createTime": "创建时间",
        "name": "mfc(联系人名称)",
        "tel": "联系人电话",
        "major": "是否为主要联系人",
        "gender": "联系人性别",
        "department": "联系人部门",
        "duty": "联系人职务",
        "email": "联系人email",
        "weChat": "微信",
        "qq": "qq",
        "fax": "传真",
        "birth": "联系人生日",
        "note": "备注"
      }
    ]
  }
]
```
#### 响应状态码
```
401 Unauthorized
403 Forbidden
404 Not Found
```
### 1.6 修改客户信息
#### 请求
PUT /client/update
```JSON
{
  "id": "40288012696a519f01696bb12f870002",
  "address": "客户地址(必填)",
  "areaId": "地区id(必填)",
  "belongToWhoID": "所有者id(员工或部门,必填)",
  "clientBelong": "客户归属:我的:MINE|部门:DEPARTMENT(必选)",
  "clientGroup": "客户分组:客户:CLIENT|商家:MERCHANT(必选)",
  "clientLinkmanDTOList": [
    {
      "id": "40288012696a519f01696bb12f870002",
      "birth": "生日",
      "department": "部门",
      "duty": "职务",
      "email": "email",
      "fax": "传真",
      "gender": "性别:男:MALE|女:FEMALE|未知:UNKNOWN(必选)",
      "major": "true|false(是否主要联系人)",
      "name": "名字(必填)",
      "note": "备注",
      "qq": "QQ",
      "tel": "电话(必填)",
      "weChat": "微信"
    }
  ],
  "detailedAddress": "详细地址",
  "intentionId": "意向id(必填)",
  "levelId": "等级id(必填)",
  "name": "客户名称(必填)",
  "note": "备注",
  "operatorId": "经手人id(必填)",
  "photos": [
    "图片url"
  ],
  "typeId": "客户类型id(必填)"
}
```
#### 响应状态码
```
200 OK
201 Created
401 Unauthorized
403 Forbidden
404 Not Found
```
### 1.7 通过id查询客户
#### 请求
GET /client/{id}
#### 响应
```JSON
{
  "address": "string",
  "areaId": "string",
  "areaName": "string",
  "belongToWhoID": "string",
  "clientBelong": "个人",
  "clientGroup": "客户",
  "clientLinkmanDTOList": [
    {
      "birth": "2019-03-15T00:54:26.289Z",
      "createTime": "2019-03-15T00:54:26.289Z",
      "department": "string",
      "duty": "string",
      "email": "string",
      "fax": "string",
      "gender": "男",
      "id": "string",
      "major": true,
      "name": "string",
      "note": "string",
      "qq": "string",
      "tel": "string",
      "weChat": "string"
    }
  ],
  "createTime": "2019-03-15T00:54:26.289Z",
  "detailedAddress": "string",
  "id": "string",
  "intentionId": "string",
  "intentionName": "string",
  "levelId": "string",
  "levelName": "string",
  "name": "string",
  "note": "string",
  "operatorId": "string",
  "operatorName": "string",
  "photos": [
    "string"
  ],
  "typeId": "string",
  "typeName": "string"
}
```
#### 响应状态码
```
200 OK
204 No Content
401 Unauthorized
403 Forbidden
```
### 1.8 通过员工id获取其私有客户
#### 请求
POST /client/directly
```JSON
{
    "id": "40288012696a519f01696bb12f2a0001(员工id)",
    "clientGroup": "客户或商家;客户:CLIENT;商家:MERCHANT"
  }
```
#### 响应
```JSON
[
  {
    "id": "4028e3816979a5d701697b929545000e(id)",
    "createTime": "2019-03-14 17:39:58(创建时间)",
    "clientGroup": "CLIENT(客户分组:客户:CLIENT;商家:MERCHANT)",
    "name": "mfc(客户名称)",
    "clientBelong": "DEPARTMENT(客户所属:个人:MINE;部门:DEPARTMENT)",
    "belongToWhoID": "402880086950ab4c016950b1a4380001(所有者id)",
    "typeId": "402880086950ab4c016950b1a4380001(类型id)",
    "typeName": "类型名称",
    "levelId": "等级id",
    "levelName": "等级名称",
    "areaId": "区域id",
    "areaName": "区域名称",
    "intentionId": "意图id",
    "intentionName": "意图名称",
    "address": "地址",
    "detailedAddress": "详细地址",
    "photos": [
      "图片url"
    ],
    "note": "备注",
    "operatorId": "402880086950ab4c016950b1a4460002(经手人id)",
    "operatorName": "经手人名称",
    "clientLinkmanDTOList": [
      {
        "id": "4028e3816979a5d701697b929545000e(联系人id)",
        "createTime": "创建时间",
        "name": "mfc(联系人名称)",
        "tel": "联系人电话",
        "major": "是否为主要联系人",
        "gender": "联系人性别",
        "department": "联系人部门",
        "duty": "联系人职务",
        "email": "联系人email",
        "weChat": "微信",
        "qq": "qq",
        "fax": "传真",
        "birth": "联系人生日",
        "note": "备注"
      }
    ]
  }
]
```
#### 响应状态
```
201 Created
401 Unauthorized
403 Forbidden
404 Not Found
```