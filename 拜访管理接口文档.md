# 拜访管理 接口文档 v1.0.0_0
markdown by wingmfc
## 描述
拜访管理接口
## 1、添加拜访
### 请求
POST /client/visiting
```JSON
{
  "clientId": "客户id",
  "clientLinkmanId": "联系人id",
  "content": "拜访内容",
  "createTime": "创建时间（自动）",
  "deadline": "截止时间",
  "id": "id（自动）",
  "photos": [
    "图片url"
  ],
  "visitingType": "拜访类型",
  "visitorId": "拜访人id"
}
```
### 响应
``` JSON
200 OK
201 Created
401 Unauthorized
403 Forbidden
404 Not Found
```
## 2、取消拜访
### 请求
DELETE /client/visiting
``` JSON
40288012696a519f01696bb12f2a0001（拜访记录id）
```
### 响应
``` JSON
200 OK
204 Not Content
401 Unauthorized
403 Forbidden
```
## 3、查询拜访
### 请求
GET /client/visiting
``` JSON
{} （不需要发送任何数据）
```
### 响应
```JSON
[
  {
    "id": "40288012696a519f01696a700f540000",
    "createTime": 1552268700000,
    "clientId": "40288012695c603301695c911fdd000f",
    "clientLinkmanId": "40288012695c603301695c9120030010",
    "visitingType": "string",
    "deadline": 1552268700000,
    "visitorId": "string",
    "content": "string",
    "photos": [
      "string"
    ]
  }
]
```
### 响应状态码
``` JSON
401 Unauthorized
403 Forbidden
404 Not Found
```
## 4、获取员工的拜访信息
### 请求
GET /client/visiting/employee
``` JSON
{} (不需要数据，获取当前用户的拜访信息)
```
### 响应
```JSON
[
    {
       "clientId": "string",
       "clientLinkmanId": "string",
       "content": "string",
       "createTime": "2019-03-11T09:13:25.483Z",
       "deadline": "2019-03-11T09:13:25.483Z",
       "id": "string",
       "photos": [
         "string"
       ],
       "visitingType": "string",
       "visitorId": "string"
     }
 ]
```
### 响应状态码
``` JSON
401 Unauthorized
403 Forbidden
404 Not Found
```
## 5、获取某一条拜访记录
### 请求
GET /client/visiting/{id}
``` JSON
40288012696a519f01696a700f540000 (记录id)
```
### 响应
```JSON
{
       "clientId": "string",
       "clientLinkmanId": "string",
       "content": "string",
       "createTime": "2019-03-11T09:13:25.483Z",
       "deadline": "2019-03-11T09:13:25.483Z",
       "id": "string",
       "photos": [
         "string"
       ],
       "visitingType": "string",
       "visitorId": "string"
     }
```
### 响应状态码
``` JSON
401 Unauthorized
403 Forbidden
404 Not Found
```
## 6、修改拜访信息
### 请求
PUT /client/visiting
```JSON
{
  "clientId": "string",
  "clientLinkmanId": "string",
  "content": "string",
  "createTime": "2019-03-11T09:13:25.483Z",
  "deadline": "2019-03-11T09:13:25.483Z",
  "id": "要修改的拜访记录id（必须）",
  "photos": [
    "string"
  ],
  "visitingType": "string",
  "visitorId": "string"
}
```
### 响应
``` JSON
200 OK
201 Created
401 Unauthorized
403 Forbidden
404 Not Found
```
## 7、拜访客户
### 请求
PUT /client/visiting/doVisiting
```JSON
{
  "address": "中国广东省湛江市",
  "id": "40288012696fe6de01696fe9aca60001",
  "summary": "没用的总结",
  "visitingPhotos": [
    "图片1","图片2"
  ],
  "visitingTime": "2019-03-12T12:00:00.123"
}
```
### 响应
``` JSON
200 OK
201 Created
401 Unauthorized
403 Forbidden
404 Not Found
```